<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Hacks for ggplot2 • ggh4x</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="apple-touch-icon-60x60.png">
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="bootstrap-toc.css">
<script src="bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="pkgdown.css" rel="stylesheet">
<script src="pkgdown.js"></script><meta property="og:title" content="Hacks for ggplot2">
<meta property="og:description" content="A ggplot2 extension that does a variety of little
    helpful things.  The package extends ggplot2 facets through
    customisation, by setting individual scales per panel, resizing panels
    and providing nested facets.  Also allows multiple colour and fill
    scales per plot. Also hosts a smaller collection of `stat_*`,
    `position_*` and `geom_*` functions.">
<meta property="og:image" content="/logo.png">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-home">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="index.html">ggh4x</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.1.0.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="articles/ggh4x.html">Get started</a>
</li>
<li>
  <a href="reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="articles/Facets.html">Facets</a>
    </li>
    <li>
      <a href="articles/Miscellaneous.html">Miscellaneous</a>
    </li>
    <li>
      <a href="articles/PositionGuides.html">Position Guides</a>
    </li>
    <li>
      <a href="articles/Statistics.html">Statistics</a>
    </li>
  </ul>
</li>
<li>
  <a href="news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/teunbrand/ggh4x/">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="contents col-md-9">
<div id="ggh4x-" class="section level1">
<div class="page-header"><h1 class="hasAnchor">
<a href="#ggh4x-" class="anchor"></a>ggh4x <img src="reference/figures/logo_300px.png" align="right" width="150">
</h1></div>
<!-- badges: start -->

<p>The ggh4x package is a ggplot2 extension package. It provides some utility functions that are don’t entirely fit within the ‘grammar of graphics’ concept —they can be a bit hacky— but can nonetheless be useful in tweaking your ggplots. Examples include adjusting the sizes of facets, mapping multiple aesthetics to colours and specififying individual scales for facets. Besides this, it is also a small collection of geoms, facets, positions, guides and stats.</p>
<div id="installation" class="section level2">
<h2 class="hasAnchor">
<a href="#installation" class="anchor"></a>Installation</h2>
<p>You can install the development version from <a href="https://github.com/">GitHub</a> with:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># install.packages("devtools")</span>
<span class="fu">devtools</span><span class="fu">::</span><span class="fu"><a href="https://devtools.r-lib.org//reference/remote-reexports.html">install_github</a></span><span class="op">(</span><span class="st">"teunbrand/ggh4x"</span><span class="op">)</span></code></pre></div>
</div>
<div id="overview" class="section level2">
<h2 class="hasAnchor">
<a href="#overview" class="anchor"></a>Overview</h2>
<p>There are a few topics explored in the package’s vignettes with examples. Links to these topics are below.</p>
<ul>
<li>Options to tailor <a href="https://teunbrand.github.io/ggh4x/articles/Facets.html">facets</a>, including:
<ul>
<li>
<a href="https://teunbrand.github.io/ggh4x/articles/Facets.html#nested-facets">Nested facets</a> that have strips that can span multiple panels.</li>
<li>Adjusting the <a href="https://teunbrand.github.io/ggh4x/articles/Facets.html#position-scales">position scales</a> on a per-panel basis.</li>
<li>Varying the <a href="https://teunbrand.github.io/ggh4x/articles/Facets.html#sizes">size of panels</a> without being limited to the global <code>aspect.ratio</code> or fixed coordinates.</li>
</ul>
</li>
<li>ggh4x has some <a href="https://teunbrand.github.io/ggh4x/articles/PositionGuides.html">position guides</a> that change the way x- and y-axes look. You can:
<ul>
<li>include the <a href="https://teunbrand.github.io/ggh4x/articles/PositionGuides.html#minor-ticks">minor breaks as minor tick marks</a>.</li>
<li>detail log<sub>10</sub> axes with <a href="https://teunbrand.github.io/ggh4x/articles/PositionGuides.html#logarithmic-ticks">logarithmic tickmarks</a>.</li>
<li>indicate <a href="https://teunbrand.github.io/ggh4x/articles/PositionGuides.html#nested-relations">nested relations</a> in discrete axes.</li>
<li>mirror the results of hierarchical clustering with <a href="https://teunbrand.github.io/ggh4x/articles/PositionGuides.html#dendrograms">dendrogram axes</a> with help from the <strong>ggdendro</strong> package.</li>
</ul>
</li>
<li>There are some <a href="https://teunbrand.github.io/ggh4x/articles/Statistics.html">stat layers</a> that can make it easier to plot. These stat layers can:
<ul>
<li>overlaying the <a href="https://teunbrand.github.io/ggh4x/articles/Statistics.html#theoretical-densities">theoretical density</a> of several distributions, which are computed with the <strong>fitdistrplus</strong> package.</li>
<li>draw a trendline of your data with a <a href="https://teunbrand.github.io/ggh4x/articles/Statistics.html#rolling-kernels">rolling kernel</a>.</li>
<li>plainly <a href="https://teunbrand.github.io/ggh4x/articles/Statistics.html#function-x-y">transform x and y</a> position in a group-wise manner.</li>
<li>calculate <a href="https://teunbrand.github.io/ggh4x/articles/Statistics.html#run-length-encoding">run-length encodings</a> of your data.</li>
</ul>
</li>
</ul>
</div>
<div id="customised-facets" class="section level2">
<h2 class="hasAnchor">
<a href="#customised-facets" class="anchor"></a>Customised facets</h2>
<p>This example illustrates how you can use nested facets:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/teunbrand/ggh4x">ggh4x</a></span><span class="op">)</span>
<span class="co">#&gt; Loading required package: ggplot2</span>

<span class="va">df</span> <span class="op">&lt;-</span> <span class="va">iris</span>
<span class="va">df</span><span class="op">$</span><span class="va">Nester</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/ifelse.html">ifelse</a></span><span class="op">(</span><span class="va">df</span><span class="op">$</span><span class="va">Species</span> <span class="op">==</span> <span class="st">"setosa"</span>, <span class="st">"Short Leaves"</span>, <span class="st">"Long Leaves"</span><span class="op">)</span>

<span class="va">g</span> <span class="op">&lt;-</span> <span class="fu">ggplot</span><span class="op">(</span><span class="va">df</span>, <span class="fu">aes</span><span class="op">(</span><span class="va">Sepal.Width</span>, <span class="va">Sepal.Length</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="reference/facet_nested.html">facet_nested</a></span><span class="op">(</span><span class="op">~</span> <span class="va">Nester</span> <span class="op">+</span> <span class="va">Species</span>, scales <span class="op">=</span> <span class="st">"free"</span><span class="op">)</span>

<span class="va">g</span> <span class="op">+</span> <span class="fu">geom_point</span><span class="op">(</span><span class="op">)</span></code></pre></div>
<p><img src="reference/figures/README-nested_facets-1.png" width="80%"></p>
<p>Sometimes, you might want to vary the scales of your facets independently from oneanother. You could use <code><a href="reference/facetted_pos_scales.html">facetted_pos_scales()</a></code> to achieve this, and the facet argument <code>scales</code> had to be set to <code>free</code>.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">scales</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span>
  <span class="fu">scale_x_reverse</span><span class="op">(</span><span class="op">)</span>,
  <span class="fu">scale_x_continuous</span><span class="op">(</span>labels <span class="op">=</span> <span class="fu">scales</span><span class="fu">::</span><span class="va"><a href="https://scales.r-lib.org//reference/label_dollar.html">dollar</a></span><span class="op">)</span>,
  <span class="fu">scale_x_continuous</span><span class="op">(</span>breaks <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">3</span>, <span class="fl">4</span><span class="op">)</span><span class="op">)</span>
<span class="op">)</span>

<span class="va">g</span> <span class="op">&lt;-</span> <span class="va">g</span> <span class="op">+</span> <span class="fu"><a href="reference/facetted_pos_scales.html">facetted_pos_scales</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">scales</span><span class="op">)</span>
<span class="va">g</span> <span class="op">+</span> <span class="fu">geom_point</span><span class="op">(</span><span class="op">)</span></code></pre></div>
<p><img src="reference/figures/README-pos_scales-1.png" width="80%"></p>
<p>If you don’t like the sizes of the facet panels, you can tweak these using <code><a href="reference/force_panelsizes.html">force_panelsizes()</a></code> in a data-independent manner, without having to rely on <code>facet_grid</code>’s <code>space = "free"</code> argument.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Inverse golden ratio</span>
<span class="va">phi</span> <span class="op">&lt;-</span> <span class="fl">2</span> <span class="op">/</span> <span class="op">(</span><span class="fl">1</span> <span class="op">+</span> <span class="fu"><a href="https://rdrr.io/r/base/MathFun.html">sqrt</a></span><span class="op">(</span><span class="fl">5</span><span class="op">)</span><span class="op">)</span>

<span class="va">g</span> <span class="op">&lt;-</span> <span class="va">g</span> <span class="op">+</span> <span class="fu"><a href="reference/force_panelsizes.html">force_panelsizes</a></span><span class="op">(</span>rows <span class="op">=</span> <span class="fl">1</span>, cols <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="va">phi</span>, <span class="va">phi</span><span class="op">^</span><span class="fl">2</span><span class="op">)</span>, respect <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>

<span class="va">g</span> <span class="op">+</span> <span class="fu">geom_point</span><span class="op">(</span><span class="op">)</span></code></pre></div>
<p><img src="reference/figures/README-panel_sizes-1.png" width="80%"></p>
</div>
<div id="multiple-colours" class="section level2">
<h2 class="hasAnchor">
<a href="#multiple-colours" class="anchor"></a>Multiple colours</h2>
<p>One colourscale is in some cases not sufficient to describe your data. You can map several variables to colours with <code><a href="reference/scale_fill_multi.html">scale_colour_multi()</a></code> if data are in seperate layers. You can see from all the warnings that some functions in this package might be called ‘hacks’.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># ggsubset is a convenience function to pull data from </span>
<span class="co"># the main ggplot call in layers</span>
<span class="va">g</span> <span class="op">&lt;-</span> <span class="va">g</span> <span class="op">+</span>
  <span class="fu">geom_point</span><span class="op">(</span><span class="fu">aes</span><span class="op">(</span>swidth <span class="op">=</span> <span class="va">Sepal.Width</span><span class="op">)</span>,  
             <span class="fu"><a href="reference/ggsubset.html">ggsubset</a></span><span class="op">(</span><span class="va">Species</span> <span class="op">==</span> <span class="st">"setosa"</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu">geom_point</span><span class="op">(</span><span class="fu">aes</span><span class="op">(</span>pleng  <span class="op">=</span> <span class="va">Petal.Length</span><span class="op">)</span>, 
             <span class="fu"><a href="reference/ggsubset.html">ggsubset</a></span><span class="op">(</span><span class="va">Species</span> <span class="op">==</span> <span class="st">"versicolor"</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu">geom_point</span><span class="op">(</span><span class="fu">aes</span><span class="op">(</span>pwidth <span class="op">=</span> <span class="va">Petal.Width</span><span class="op">)</span>,
             <span class="fu"><a href="reference/ggsubset.html">ggsubset</a></span><span class="op">(</span><span class="va">Species</span> <span class="op">==</span> <span class="st">"virginica"</span><span class="op">)</span><span class="op">)</span>
<span class="co">#&gt; Warning: Ignoring unknown aesthetics: swidth</span>
<span class="co">#&gt; Warning: Ignoring unknown aesthetics: pleng</span>
<span class="co">#&gt; Warning: Ignoring unknown aesthetics: pwidth</span>

<span class="va">g</span> <span class="op">&lt;-</span> <span class="va">g</span> <span class="op">+</span> <span class="fu"><a href="reference/scale_fill_multi.html">scale_colour_multi</a></span><span class="op">(</span>
  aesthetics <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"swidth"</span>, <span class="st">"pleng"</span>, <span class="st">"pwidth"</span><span class="op">)</span>,
  colours <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"black"</span>, <span class="st">"green"</span><span class="op">)</span>,
                 <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"gray"</span>, <span class="st">"red"</span><span class="op">)</span>,
                 <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"white"</span>, <span class="st">"blue"</span><span class="op">)</span><span class="op">)</span>,
  guide <span class="op">=</span> <span class="fu">guide_colourbar</span><span class="op">(</span>barheight <span class="op">=</span> <span class="fu">unit</span><span class="op">(</span><span class="fl">50</span>, <span class="st">"pt"</span><span class="op">)</span><span class="op">)</span>
<span class="op">)</span>
<span class="va">g</span></code></pre></div>
<p><img src="reference/figures/README-multicolour-1.png" width="80%"></p>
<p>Mixing continuous and discrete colours can also be done, with the slightly more verbose <code><a href="reference/scale_listed.html">scale_listed()</a></code>, such as in the following heatmap.</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Making an iris correlation-heatmap</span>
<span class="va">iriscor</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/cor.html">cor</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/t.html">t</a></span><span class="op">(</span><span class="va">iris</span><span class="op">[</span>, <span class="fl">1</span><span class="op">:</span><span class="fl">4</span><span class="op">]</span><span class="op">)</span><span class="op">)</span>
<span class="va">iriscor</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html">data.frame</a></span><span class="op">(</span>
  x <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/vector.html">as.vector</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/row.html">row</a></span><span class="op">(</span><span class="va">iriscor</span><span class="op">)</span><span class="op">)</span>,
  y <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/vector.html">as.vector</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/col.html">col</a></span><span class="op">(</span><span class="va">iriscor</span><span class="op">)</span><span class="op">)</span>,
  value <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/vector.html">as.vector</a></span><span class="op">(</span><span class="va">iriscor</span><span class="op">)</span>
<span class="op">)</span>

<span class="va">df</span><span class="op">$</span><span class="va">id</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html">seq_len</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/nrow.html">nrow</a></span><span class="op">(</span><span class="va">df</span><span class="op">)</span><span class="op">)</span>


<span class="co"># Setting up a basic heatmap</span>
<span class="va">g</span> <span class="op">&lt;-</span> <span class="fu">ggplot</span><span class="op">(</span><span class="va">df</span>, <span class="fu">aes</span><span class="op">(</span><span class="va">id</span>, <span class="va">id</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span>
  <span class="co"># geom_tilemargin can be useful for annotating heatmaps</span>
  <span class="fu"><a href="reference/geom_rectmargin.html">geom_tilemargin</a></span><span class="op">(</span><span class="fu">aes</span><span class="op">(</span>species <span class="op">=</span> <span class="va">Species</span><span class="op">)</span>, 
                  sides <span class="op">=</span> <span class="st">"b"</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="reference/geom_rectmargin.html">geom_tilemargin</a></span><span class="op">(</span><span class="fu">aes</span><span class="op">(</span>leave <span class="op">=</span> <span class="va">Nester</span><span class="op">)</span>,
                  sides <span class="op">=</span> <span class="st">"l"</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu">geom_raster</span><span class="op">(</span><span class="fu">aes</span><span class="op">(</span><span class="va">x</span>, <span class="va">y</span>, cor <span class="op">=</span> <span class="va">value</span><span class="op">)</span>,
              data <span class="op">=</span> <span class="va">iriscor</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu">coord_fixed</span><span class="op">(</span><span class="op">)</span>
<span class="co">#&gt; Warning: Ignoring unknown aesthetics: species</span>
<span class="co">#&gt; Warning: Ignoring unknown aesthetics: leave</span>
<span class="co">#&gt; Warning: Ignoring unknown aesthetics: cor</span>

<span class="co"># Adding the colour scales</span>
<span class="va">g</span> <span class="op">&lt;-</span> <span class="va">g</span> <span class="op">+</span> <span class="fu"><a href="reference/scale_listed.html">scale_listed</a></span><span class="op">(</span>scalelist <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span>
  <span class="fu">scale_fill_distiller</span><span class="op">(</span>palette <span class="op">=</span> <span class="st">"RdBu"</span>, aesthetics <span class="op">=</span> <span class="st">"cor"</span><span class="op">)</span>,
  <span class="fu">scale_fill_brewer</span><span class="op">(</span>palette <span class="op">=</span> <span class="st">"Dark2"</span>, aesthetics <span class="op">=</span> <span class="st">"species"</span><span class="op">)</span>,
  <span class="fu">scale_fill_manual</span><span class="op">(</span>values <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"dodgerblue"</span>, <span class="st">"tomato"</span><span class="op">)</span>,
                    aesthetics <span class="op">=</span> <span class="st">"leave"</span><span class="op">)</span>
<span class="op">)</span>, replaces <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/rep.html">rep</a></span><span class="op">(</span><span class="st">"fill"</span>, <span class="fl">3</span><span class="op">)</span><span class="op">)</span>
<span class="va">g</span></code></pre></div>
<p><img src="reference/figures/README-listed_scales-1.png" width="80%"></p>
</div>
<div id="position-transforms" class="section level2">
<h2 class="hasAnchor">
<a href="#position-transforms" class="anchor"></a>Position transforms</h2>
<p>On the topic of rasters, if parameterised as a polygon with <code><a href="reference/geom_polygonraster.html">geom_polygonraster()</a></code>, they can subjected to linear transformations such as rotations and shears with <code><a href="reference/position_lineartrans.html">position_lineartrans()</a></code>.</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">g</span> <span class="op">&lt;-</span> <span class="fu">ggplot</span><span class="op">(</span><span class="va">iriscor</span>, <span class="fu">aes</span><span class="op">(</span><span class="va">x</span>, <span class="va">y</span>, fill <span class="op">=</span> <span class="va">value</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="reference/geom_polygonraster.html">geom_polygonraster</a></span><span class="op">(</span>position <span class="op">=</span> <span class="fu"><a href="reference/position_lineartrans.html">position_lineartrans</a></span><span class="op">(</span>angle <span class="op">=</span> <span class="fl">45</span><span class="op">)</span><span class="op">)</span>

<span class="va">g</span> <span class="op">+</span> <span class="fu">coord_fixed</span><span class="op">(</span><span class="op">)</span></code></pre></div>
<p><img src="reference/figures/README-lineartrans-1.png" width="80%"></p>
<p>In fact, you could even do non-linear transformation with polygon-rasters, should you dare venture that way.</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">g</span> <span class="op">+</span> <span class="fu">coord_polar</span><span class="op">(</span><span class="op">)</span></code></pre></div>
<p><img src="reference/figures/README-polar-1.png" width="80%"></p>
</div>
<div id="density-estimates" class="section level2">
<h2 class="hasAnchor">
<a href="#density-estimates" class="anchor"></a>Density estimates</h2>
<p>Ever get tired of unparameterised kernel density estimates? Now you can fit a wide range of theoretical densities from the <code>fitdistrplus</code> package to your data on the fly!</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/Random.html">set.seed</a></span><span class="op">(</span><span class="fl">1</span><span class="op">)</span>
<span class="va">n</span> <span class="op">&lt;-</span> <span class="fl">200</span>
<span class="va">df</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html">data.frame</a></span><span class="op">(</span>
  x <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/stats/Poisson.html">rpois</a></span><span class="op">(</span><span class="va">n</span>, <span class="fl">25</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/stats/NegBinomial.html">rnbinom</a></span><span class="op">(</span><span class="va">n</span>, <span class="fl">5</span>, <span class="fl">0.2</span><span class="op">)</span>, 
        <span class="fu"><a href="https://rdrr.io/r/stats/GammaDist.html">rgamma</a></span><span class="op">(</span><span class="va">n</span>, <span class="fl">30</span>, <span class="fl">1.5</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/stats/Chisquare.html">rchisq</a></span><span class="op">(</span><span class="va">n</span>, <span class="fl">15</span><span class="op">)</span><span class="op">)</span>,
  class <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/rep.html">rep</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"Discrete"</span>, <span class="st">"Continuous"</span><span class="op">)</span>, each <span class="op">=</span> <span class="va">n</span><span class="op">*</span><span class="fl">2</span><span class="op">)</span>,
  Distribution <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/rep.html">rep</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"Poisson"</span>, <span class="st">"Negative Binomial"</span>, 
                       <span class="st">"Gamma"</span>, <span class="st">"Chi-squared"</span><span class="op">)</span>,
                     each <span class="op">=</span> <span class="va">n</span><span class="op">)</span>
<span class="op">)</span>

<span class="fu">ggplot</span><span class="op">(</span><span class="va">df</span>, <span class="fu">aes</span><span class="op">(</span><span class="va">x</span>, fill <span class="op">=</span> <span class="va">Distribution</span>, colour <span class="op">=</span> <span class="va">Distribution</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu">geom_histogram</span><span class="op">(</span>position <span class="op">=</span> <span class="st">"identity"</span>, binwidth <span class="op">=</span> <span class="fl">1</span>, 
                 alpha <span class="op">=</span> <span class="fl">0.3</span>, colour <span class="op">=</span> <span class="cn">NA</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="reference/stat_theodensity.html">stat_theodensity</a></span><span class="op">(</span><span class="fu">aes</span><span class="op">(</span>y <span class="op">=</span> <span class="fu">stat</span><span class="op">(</span><span class="va">count</span><span class="op">)</span><span class="op">)</span>, 
                   <span class="fu"><a href="reference/ggsubset.html">ggsubset</a></span><span class="op">(</span><span class="va">class</span> <span class="op">==</span> <span class="st">"Discrete"</span><span class="op">)</span>,
                   distri <span class="op">=</span> <span class="st">"nbinom"</span>, geom <span class="op">=</span> <span class="st">"step"</span>,
                   position <span class="op">=</span> <span class="fu">position_nudge</span><span class="op">(</span>x <span class="op">=</span> <span class="op">-</span><span class="fl">0.5</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="reference/stat_theodensity.html">stat_theodensity</a></span><span class="op">(</span><span class="fu">aes</span><span class="op">(</span>y <span class="op">=</span> <span class="fu">stat</span><span class="op">(</span><span class="va">count</span><span class="op">)</span><span class="op">)</span>, 
                   <span class="fu"><a href="reference/ggsubset.html">ggsubset</a></span><span class="op">(</span><span class="va">class</span> <span class="op">==</span> <span class="st">"Continuous"</span><span class="op">)</span>,
                   distri <span class="op">=</span> <span class="st">"gamma"</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu">facet_grid</span><span class="op">(</span><span class="op">~</span> <span class="va">class</span>, scales <span class="op">=</span> <span class="st">"free_x"</span><span class="op">)</span></code></pre></div>
<p><img src="reference/figures/README-density-1.png" width="80%"></p>
</div>
<div id="footnote" class="section level2">
<h2 class="hasAnchor">
<a href="#footnote" class="anchor"></a>Footnote</h2>
<p>I would like to mention that there are also packages that do some similar things to what this package does. <a href="https://github.com/zeehio/facetscales">facetscales</a> also has a facet function wherein scales can set per row/colum. The <a href="https://github.com/clauswilke/relayer">relayer</a> and <a href="https://github.com/cran/ggnewscale">ggnewscale</a> packages also allow multiple colour scales in the same plot.</p>
<p>Historically, many of these functions come from the <a href="https://github.com/teunbrand/ggnomics">ggnomics</a> package, but have been moved here as a package independent of Bioconductor infrastructure.</p>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <div class="links">
<h2>Links</h2>
<ul class="list-unstyled">
<li>Browse source code at <br><a href="https://github.com/teunbrand/ggh4x/">https://​github.com/​teunbrand/​ggh4x/​</a>
</li>
<li>Report a bug at <br><a href="https://github.com/teunbrand/ggh4x/issues">https://​github.com/​teunbrand/​ggh4x/​issues</a>
</li>
</ul>
</div>
<div class="license">
<h2>License</h2>
<ul class="list-unstyled">
<li><a href="LICENSE.html">Full license</a></li>
<li><small><a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a></small></li>
</ul>
</div>
<div class="community">
<h2>Community</h2>
<ul class="list-unstyled">
<li><a href="CODE_OF_CONDUCT.html">Code of conduct</a></li>
</ul>
</div>
<div class="developers">
<h2>Developers</h2>
<ul class="list-unstyled">
<li>Teun van den Brand <br><small class="roles"> Author, maintainer </small> <a href="https://orcid.org/0000-0002-9335-7468" target="orcid.widget" aria-label="ORCID"><span class="fab fa-orcid orcid" aria-hidden="true"></span></a> </li>
</ul>
</div>

  <div class="dev-status">
<h2>Dev status</h2>
<ul class="list-unstyled">
<li><a href="https://codecov.io/gh/teunbrand/ggh4x?branch=master"><img src="https://codecov.io/gh/teunbrand/ggh4x/branch/master/graph/badge.svg" alt="Codecov test coverage"></a></li>
<li><a href="https://github.com/teunbrand/ggh4x/actions"><img src="https://github.com/teunbrand/ggh4x/workflows/R-CMD-check/badge.svg" alt="R-CMD-check"></a></li>
</ul>
</div>
</div>
</div>


      <footer><div class="copyright">
  <p>Developed by Teun van den Brand.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
